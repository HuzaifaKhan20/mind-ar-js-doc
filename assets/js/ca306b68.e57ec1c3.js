(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{127:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return s})),a.d(t,"metadata",(function(){return l})),a.d(t,"toc",(function(){return d})),a.d(t,"default",(function(){return u}));var r=a(3),n=a(7),i=(a(0),a(134)),c=a.p+"assets/images/face-occluder1-demo-ca9c502986928627d033f3590be264ae.png",o=a.p+"assets/images/face-occluder2-demo-f1f6e36d028b9d3cdcd4eff46895a805.png",s={id:"occluder",title:"Occluder",sidebar_label:"Occluder"},l={unversionedId:"face-tracking-quick-start/occluder",id:"face-tracking-quick-start/occluder",isDocsHomePage:!1,title:"Occluder",description:"Depth Problem",source:"@site/docs/face-tracking-quick-start/occluder.md",slug:"/face-tracking-quick-start/occluder",permalink:"/mind-ar-js-doc/face-tracking-quick-start/occluder",version:"current",sidebar_label:"Occluder",sidebar:"docs",previous:{title:"3D Assets",permalink:"/mind-ar-js-doc/face-tracking-quick-start/assets"},next:{title:"Wrapup",permalink:"/mind-ar-js-doc/face-tracking-quick-start/wrapup"}},d=[{value:"Depth Problem",id:"depth-problem",children:[]},{value:"Occluder",id:"occluder",children:[]},{value:"Putting it together",id:"putting-it-together",children:[]},{value:"Limitations",id:"limitations",children:[]}],p={toc:d};function u(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(i.a)("wrapper",Object(r.a)({},p,a,{components:t,mdxType:"MDXLayout"}),Object(i.a)("h2",{id:"depth-problem"},"Depth Problem"),Object(i.a)("p",null,"If you turn your head a bit, you will probably notice a problem (the arm of the glass should be invisible since it's behind the head):"),Object(i.a)("img",{src:c,width:"300"}),Object(i.a)("p",null,"It's a common problem in augmented reality application. AR application does not alter the video. Instead it is jsut merely drawing another layer on top. Therefore, none of the video content can obscure our drawing layer (i.e. augmented realty objects). "),Object(i.a)("h2",{id:"occluder"},"Occluder"),Object(i.a)("p",null,"To solve this issue, we will need to add an aribitrary 3D head-like object in the scene. But unlike a regular 3D object, this arbitrary head has two special properties. First, obviously it needs to be transparent. Second, despite being transparent, it still need to cover every behind. Normally, we call this kind of special 3D objects as occluders."),Object(i.a)("p",null,"Adding a occluder object is very similar to adding a regular object. In MindAR, you just need to add a property ",Object(i.a)("inlineCode",{parentName:"p"},"mindar-face-occluder")," to the entity."),Object(i.a)("pre",null,Object(i.a)("code",{parentName:"pre"},'<a-assets>\n  <a-asset-item id="headModel" src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.0.1/examples/face-tracking/assets/sparkar/headOccluder.glb"></a-asset-item>\n</a-assets>\n...\n<a-entity mindar-face-target="anchorIndex: 168">\n  <a-gltf-model mindar-face-occluder position="0 -0.3 0.15"rotation="0 0 0" scale="0.065 0.065 0.065" src="#headModel"></a-gltf-model>\n</a-entity>\n')),Object(i.a)("h2",{id:"putting-it-together"},"Putting it together"),Object(i.a)("p",null,"Putting it together, your new html page should be like this:"),Object(i.a)("pre",null,Object(i.a)("code",{parentName:"pre"},'<html>\n  <head>\n    <meta name="viewport" content="width=device-width, initial-scale=1" />\n    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.0.0/dist/mindar-face.prod.js"><\/script>\n    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"><\/script>\n    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.0.0/dist/mindar-face-aframe.prod.js"><\/script>\n  </head>\n\n  <body>\n    <a-scene mindar-face embedded color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false">\n      <a-assets>\n    <a-asset-item id="glassesModel" src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.0.0/examples/image-tracking/assets/glasses/scene.gltf"></a-asset-item>\n    <a-asset-item id="headModel" src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.0.1/examples/face-tracking/assets/sparkar/headOccluder.glb"></a-asset-item>\n      </a-assets>\n\n      <a-camera active="false" position="0 0 0"></a-camera>\n\n      <a-entity mindar-face-target="anchorIndex: 168">\n        <a-gltf-model mindar-face-occluder position="0 -0.3 0.15"rotation="0 0 0" scale="0.065 0.065 0.065" src="#headModel"></a-gltf-model>\n      </a-entity>\n\n      <a-entity mindar-face-target="anchorIndex: 168">\n        <a-gltf-model rotation="0 0 0" position="0 0 0" scale="0.01 0.01 0.01" src="#glassesModel"></a-gltf-model>\n      </a-entity>\n    </a-scene>\n  </body>\n</html>\n')),Object(i.a)("p",null,"and when you run the app again, the arm of the glasses will be somehow hidden. "),Object(i.a)("img",{src:o,width:"300"}),Object(i.a)("h2",{id:"limitations"},"Limitations"),Object(i.a)("p",null,"One major limitation of occluder is that the arbitrary head is a predefined 3D model, and the shape won't fit perfectly with the persons' head in the video."))}u.isMDXComponent=!0},134:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var r=a(0),n=a.n(r);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=n.a.createContext({}),d=function(e){var t=n.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},u=n.a.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=d(a),m=r,h=u["".concat(c,".").concat(m)]||u[m]||p[m]||i;return a?n.a.createElement(h,o(o({ref:t},l),{},{components:a})):n.a.createElement(h,o({ref:t},l))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,c=new Array(i);c[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,c[1]=o;for(var l=2;l<i;l++)c[l]=a[l];return n.a.createElement.apply(null,c)}return n.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"}}]);